{
  "TestCaseName": "GlobalMap",
  "DataMapFile": "map/ecommerce.json",
  "Arrange": [
    {
      "Strategy": "JsonFileSeed",
      "Parameters": {
        "table": "Products",
        "dataFile": "data/products.json",
        "allowIdentityInsert": true
      }
    },
    {
      "Strategy": "HierarchicalSeed",
      "Parameters": {
        "rootTable": "Customer",
        "dataFile": "data/new_customer_order_map.json"
      }
    }
  ],
  "Actions": [
    {
      "Strategy": "ApiCall",
      "Parameters": {
        "Method": "GET",
        "Endpoint": "/api/orders"
      }
    }
  ],
  "Assert": [
    {
      "Strategy": "FlatAssert",
      "Parameters": {
        "TableName": "Customers",
        "ExpectedDataFile": "expected/customer_expected.json",
        "ComparisonRule": { "Name": "IgnoreOrder" }
        }
    },
    {
      "Strategy": "FlatAssert",
      "Parameters": {
        "TableName": "Orders",
        "ExpectedDataFile": "expected/order_expected_map.json",
        "ComparisonRule": { "Name": "IgnoreOrder" }
      }
    },
    {
      "Strategy": "FlatAssert",
      "Parameters": {
        "TableName": "OrderItems",
        "ExpectedDataFile": "expected/orderitems_expected_map.json",
        "ComparisonRule": { "Name": "IgnoreOrder" }
      }
    }
  ]
}
